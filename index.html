<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valentine's App</title>
    <style>
        body {
            background-color: #ffcccc;
            text-align: center;
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
        }

        h1 {
            color: #d10060;
            font-size: 50px;
            font-family: 'Brush Script MT', cursive;
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.2);
        }

        .heart-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .heart {
            font-size: 40px;
            color: red;
            animation: heartbeat 1s infinite;
            display: inline-block;
            vertical-align: middle;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .gif-container img {
            width: 100px;
            height: auto;
        }

        .valentine-gif img {
            width: 340px;
            height: auto;
        }

        .message {
            font-size: 24px;
            color: #800020;
            margin-top: 20px;
        }

        .btn-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
            position: relative;
        }

        button {
            background-color: #ff4d6d;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
        }

        button:hover {
            background-color: #d10060;
        }

        .no-btn {
            background-color: #888888;
            position: relative;
        }

        .no-btn:hover {
            background-color: #555555;
        }

        /* Floating hearts animation */
        @keyframes floatHearts {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100vh); opacity: 0; }
        }

        .floating-heart {
            position: absolute;
            font-size: 30px;
            color: red;
            animation: floatHearts 3s linear infinite;
        }

        /* Poem Typing Effect */
        .poem-container {
            margin-top: 30px;
            font-size: 18px;
            color: #800020;
            font-family: 'Georgia', serif;
            width: 50%;
            margin-left: auto;
            margin-right: auto;
            visibility: hidden;
            text-align: left;
            border-left: 3px solid #800020;
            padding-left: 15px;
        }
    </style>
</head>
<body>
    <h1>‚ù§Ô∏è Happy Valentine's ‚ù§Ô∏è</h1>

    <!-- Pulsating Hearts and GIF beside it -->
    <div class="heart-container">
        <p class="heart">üíñüíòüíù</p>
        <div class="gif-container">
            <img src="embarassed cat.gif" alt="Gift">
        </div>
    </div>

    <!-- Centered GIF -->
    <div class="valentine-gif">
        <img id="valentine-img" src="center cat.png" alt="Animated Heart">
    </div>

    <p id="message" class="message">Will you be my Valentine? üíå</p>

    <div class="btn-container">
        <button id="yes-btn" onclick="sayYes()">Yes! üíñ</button>
        <button id="no-btn" class="no-btn">No üò¢</button>
    </div>

    <audio id="love-song" src="i like me better.mp3"></audio>
    <audio id="sad-song" src="me and my broken heart.mp3"></audio>

    <div id="poem" class="poem-container"></div>

    <script>
        let moveCount = 0;
        let noButton = document.getElementById('no-btn');
        let yesButton = document.getElementById('yes-btn');
        let loveSong = document.getElementById('love-song');
        let sadSong = document.getElementById('sad-song');

        function moveNoButton() {
            if (moveCount < 5) {
                let newX = Math.random() * (window.innerWidth - 150);
                let newY = Math.random() * (window.innerHeight - 150);
                noButton.style.position = "absolute";
                noButton.style.left = newX + "px";
                noButton.style.top = newY + "px";
                moveCount++;
            }
        }

        function stopAllAudio() {
            loveSong.pause();
            sadSong.pause();
            loveSong.currentTime = 0;
            sadSong.currentTime = 0;
        }

        function sayYes() {
            stopAllAudio();
            document.getElementById('valentine-img').src = "heart eyes cat.gif";
            document.getElementById('message').innerText = "Yeheyy lobe pa ako ! üíñüíò";
            loveSong.play();
            createHearts();
            yesButton.style.display = "none";
            noButton.style.display = "none";
        }

        function sayNo() {
            if (moveCount >= 5) {
                stopAllAudio();
                document.getElementById('valentine-img').src = "cat cry.gif";
                document.getElementById('message').innerText = "Hindi mo na ba ako lobe? üò¢";
                sadSong.play();
                yesButton.style.display = "none";
                noButton.style.display = "none";
                typePoem();
            }
        }

        function createHearts() {
            for (let i = 0; i < 10; i++) {
                let heart = document.createElement("div");
                heart.className = "floating-heart";
                heart.innerText = "‚ù§Ô∏è";
                heart.style.left = Math.random() * 100 + "vw";
                heart.style.animationDuration = Math.random() * 3 + 2 + "s";
                document.body.appendChild(heart);
                setTimeout(() => heart.remove(), 3000);
            }
        }

        function typePoem() {
            let poemText = [
                "My Dearest Allie,",
                "",
                "I couldn‚Äôt sleep last night because I know that it‚Äôs over between us.",
                "I‚Äôm not bitter anymore, because I know that what we had was real.",
                "And if in some distant place in the future we see each other in our new lives,",
                "I‚Äôll smile at you with joy and remember how we spent the summer beneath the trees,",
                "learning from each other and growing in love.",
                "",
                "The best love is the kind that awakens the soul and makes us reach for more,",
                "that plants a fire in our hearts and brings peace to our minds.",
                "That‚Äôs what you‚Äôve given me.",
                "",
                "That‚Äôs what I hope to give you forever.",
                "",
                "Love, Noah."
            ];

            let poemElement = document.getElementById("poem");
            poemElement.style.visibility = "visible"; 
            poemElement.innerHTML = "";  

            let lineIndex = 0;

            function typeNextLine() {
                if (lineIndex < poemText.length) {
                    let line = document.createElement("p");  
                    line.textContent = "";  
                    poemElement.appendChild(line);

                    let charIndex = 0;
                    function typeNextChar() {
                        if (charIndex < poemText[lineIndex].length) {
                            line.textContent += poemText[lineIndex].charAt(charIndex);
                            charIndex++;
                            setTimeout(typeNextChar, 50); 
                        } else {
                            lineIndex++;
                            setTimeout(typeNextLine, 500); 
                        }
                    }
                    typeNextChar();  
                }
            }
            typeNextLine();  
        }

        noButton.addEventListener("mouseover", moveNoButton);
        noButton.addEventListener("click", sayNo);
    </script>
</body>
</html>
